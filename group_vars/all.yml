---
# Common variables for all hosts
user: anton

# Dotfiles + branches (overridable via extra vars or environment)
dotfiles_repo: https://github.com/knechtling/dotfiles
dotfiles_branch: main

# DWL configuration
dwl_repo: https://github.com/knechtling/dwl
dwl_branch: main
dwl_src_dir: "/home/{{ user }}/.local/src/dwl"
dwl_install_prefix: /usr/local
dwl_launcher_path: "/home/{{ user }}/.local/bin/dwl-session"
dwl_session_name: dwl
dwl_use_custom_config: true
dwl_config_source: "/home/{{ user }}/dotfiles/.config/dwl/config.h"

# wlroots package source (repo|aur)
wlroots_pkg: wlroots0.19
wlroots_pkg_source: repo
wlroots_repo_packages: "{{ [wlroots_pkg] if wlroots_pkg_source == 'repo' else [] }}"
wlroots_aur_packages: "{{ [wlroots_pkg] if wlroots_pkg_source == 'aur' else [] }}"

# Base packages for all systems
base_packages:
  - base-devel
  - git
  - stow
  - zsh
  - neovim
  - tmux
  - python
  - polkit
  - cowsay
  - networkmanager
  - openssh

# Wayland core (no X11)
wayland_core_packages:
  - wayland
  - wayland-protocols
  - libinput
  - libxkbcommon
  - seatd
  - pkgconf
  - fcft
  - tllist
  - xdg-desktop-portal-wlr

# Wayland userland
wayland_tooling:
  - foot
  - waybar
  - bemenu-wayland
  - wofi
  - mako
  - swaybg
  - waylock
  - grim
  - slurp
  - wl-clipboard
  - cliphist
  - wf-recorder
  - kanshi
  - wlr-randr
  - wtype

# Audio (all systems)
audio_packages:
  - pipewire
  - wireplumber
  - pipewire-pulse
  - pipewire-alsa
  - pulsemixer

# Fonts (all systems)
font_packages:
  - ttf-dejavu
  - ttf-liberation
  - noto-fonts
  - noto-fonts-emoji
  - ttf-font-awesome
  - ttf-linux-libertine

# Common applications
common_apps:
  - firefox
  - mpv
  - imv
  - zathura
  - zathura-pdf-mupdf
  - fzf
  - bat
  - htop
  - rsync
  - unzip
  - ffmpeg
  - ffmpegthumbnailer
  - man-db
  - socat
  - moreutils
  - yt-dlp
  - ncdu
  - shellcheck
  - yajl

# AUR packages (all systems)
aur_base:
  - autojump
  - zsh-fast-syntax-highlighting-git
  - zsh-autosuggestions
  - tmux-plugin-manager

# Host-specific package hooks (keep lists)
host_packages: []
host_aur_packages: []

# Aggregate lists used by pacman role
packages: "{{ base_packages + wayland_core_packages + wlroots_repo_packages + wayland_tooling + audio_packages + font_packages + common_apps + (host_packages | default([])) }}"
aur_packages: "{{ aur_base + wlroots_aur_packages + (host_aur_packages | default([])) }}"
